---
tags:
  - Knowledge
---
> [!definition] Shapley值 (Shapley Value)
> 起源于合作博弈中，表示各用户贡献程度的量。在可解释性问题中，用来表示像素重要性。
> - 线性公理(Linearity Axiom)：若$\forall S\subseteq N,u(S)=v(S)+w(S)$，则有$\phi_{u}(i|N)=\phi_{v}(i|N)+\phi_{w}(i|N)$。
> - 冗员公理(Dummy Axiom)：若$\forall S\subseteq N\setminus\{i\},v(S\cup\{i\})=v(S)+v(\{i\})$，则有$\phi(i|N)=v(\{i\})-v(\varnothing)$。
> - 对称公理(Symmetry Axiom)：若$\forall S\subseteq N\setminus\{i\},v(S\cup\{i\})=v(S\cup\{j\})$，则有$\phi(i|N)=\phi(j|N)$。
> - 有效公理(Efficiency Axiom)：$\sum_{i\in N}\phi(i|N)=v(N)-v(\varnothing)$。
> 
> Shapley值是唯一满足以上四条公理的函数，其定义如下：
> $$\phi(i|N)=\sum_{S\subseteq N\setminus\{i\}}\frac{(n-1-|S|)!|S|!}{n!}[v(S\cup\{i\})-v(S)]$$
> 上面的式子等价于
> $$\phi(i|N)=\frac{1}{n!}\sum_{O\in\pi(N)}[v(Pre^{i}(O)\cup\{i\})-v(Pre^{i}(O))]$$
> #Missing 上式的解释。

> [!example] 
> 设有三个球员$N=\{1,2,3\}$，他们的$v$为
> #Missing ![[Pasted image 20240614100302.png|264]]
> 那么1号球员的Shapley值则如下计算：
> ![[Pasted image 20240614100450.png]]
> 给出这三个球员的全排列，算出每种排列下1号球员上场与不上场的$v$差，然后对他们取平均值
> $$\phi(1)=\left( \frac{1}{3!} \right)(10+10+10+15+10+15)=\frac{35}{3}$$

